type: custom:layout-card
layout_type: custom:grid-layout
cards:
  - type: custom:sunsynk-card
    view_layout:
      grid-area: flow
    entities: null
    content: >-
      <style>div {border-radius: 5px; background-color:
      var(--card-background-color); padding: 5px; }</style><div>    <svg
      xmlns="http://www.w3.org/2000/svg"
      xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="100%"
      height="396px" viewBox="-0.5 -0.5 456 380"> <defs/><g><path d="M 35 92 L
      35.02 117 Q 35.03 127 43.02 127 L 51 127" fill="none" stroke="#ff9933"
      stroke-width="2" stroke-miterlimit="10" stroke-dasharray="2 2"
      pointer-events="stroke"/> <path d="M 135 92 L 135.02 117 Q 135.03 127
      128.02 127 L 121 127" fill="none" stroke="#ff9933" stroke-width="2"
      stroke-miterlimit="10" stroke-dasharray="2 2" pointer-events="stroke"/> 
      <style type="text/css"> .st1{fill:#ff9b30;} .st2{fill:#f3b3ca;}
      .st3{font-size:9px;} .st4{font-size:12px;} .st5{fill:#969696;}
      .st6{fill:#5fb6ad;} .st7{fill:#5490c2;} .st8{font-weight:500}
      .st9{fill:#959595;} text { text-anchor: middle; alignment-baseline:
      middle; } </style>    <text id="pv2_power_187" x="30%" y="18.5%"
      class="st1 st4 st8 ">0</text>     <text id="pv1_power_186" x="8%"
      y="18.5%" class="st1 st4 st8">0</text>  <text id="pvtotal_power" x="19%"
      y="33.5%" class="st1 st4 st8">0</text>  <text x="4%" y="25%" class="st1
      st3 st8">PV1</text>  <text x="26%" y="25%" class="st1 st3
      st8">PV2</text>   <text id="battery_voltage_183" x="8%" y="79.5%"
      class="st2 st4 st8">0</text>    <text id="battery_soc_184" x="8%"
      y="84.5%" class="st2 st4 st8">0</text>   <text id="battery_out_190" x="8%"
      y="90%" class="st2 st4 st8">0</text>   <text id="inverter_out_175" x="45%"
      y="42.5%" class="st4 st5 st8">0</text>   <text id="inverter_out_164"
      x="45%" y="47.5%" class="st4 st5 st8">0</text>  <text id="ess_power"
      x="68.5%" y="18.5%" class="st4 st6 st8">0</text>    <text x="92%" y="29%"
      class="st3 st6 st8">Essential</text>  <text id="inverter_grid_voltage_154"
      x="69%" y="40%" class="st4 st7 st8">0</text>  <text
      id="inverter_load_freq_192" x="69%" y="45%" class="st4 st7 st8">0</text>  
      <text id="inverter_load_grid_167" x="69%" y="49.5%" class="st4 st7
      st8">0</text>   <text id="grid_external_power_172" x="91.5%" y="68.5%"
      class="st4 st7 st8">0</text>  <text x="91.5%" y="96%" class="st3 st7
      st8">Grid</text> <text x="45.5%" y="82%" class="st3 st7 st9">Status</text>
      <circle id="standby" cx="41%" cy="81.75%" r="3.5" fill="transparent"/> 
      <circle id="selftest" cx="41%" cy="81.75%" r="3.5" fill="transparent"/> 
      <circle id="normal" cx="41%" cy="81.75%" r="3.5" fill="transparent"/> 
      <circle id="alarm" cx="41%" cy="81.75%" r="3.5" fill="transparent"/> 
      <circle id="fault" cx="41%" cy="81.75%" r="3.5" fill="transparent"/> 
      <circle id="grid" cx="88%" cy="95.75%" r="3.5" fill="transparent"/>   
      <rect x="51" y="112" width="70" height="30" rx="4.5" ry="4.5" fill="none"
      stroke="#ff9933" pointer-events="all"/> <path id="bat-line" d="M 179
      259.87 L 105.03 259.89 Q 95.03 259.9 95.03 269.86 L 95.03 279.83"
      fill="none" stroke="#f3b1c9" stroke-width="2" stroke-miterlimit="10"
      stroke-dasharray="2 2" pointer-events="stroke"/>
       <circle id="power-dot-charge" cx="0" cy="0" r="3" fill="transparent">
        <animateMotion dur="6s" repeatCount="indefinite" keyPoints="1;0" keyTimes="0;1" calcMode="linear">
          <mpath xlink:href="#bat-line"/>
        </animateMotion>
       </circle>
       <circle id="power-dot-discharge" cx="0" cy="0" r="3" fill="transparent">
        <animateMotion dur="6s" repeatCount="indefinite" keyPoints="0;1" keyTimes="0;1" calcMode="linear">
          <mpath xlink:href="#bat-line"/>
        </animateMotion>
      </circle>  <image x="178.5" y="219.5" width="50.3" height="79.75"
      xlink:href="data:image/png;base64,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"
      preserveAspectRatio="none"/><rect x="0" y="284.75" width="70" height="70"
      rx="10.5" ry="10.5" fill="none" stroke="#f3b1c9" pointer-events="all"/>
      <path id="so-line" d="M 179 239.94 L 96 239.9 Q 86 239.9 86 229.9 L 86
      142" fill="none" stroke="#ff9933" stroke-width="2" stroke-miterlimit="10"
      stroke-dasharray="2 2" pointer-events="stroke"/> 
       <circle id="so-dot" cx="0" cy="0" r="3" fill="#ff9933">
        <animateMotion dur="9s" repeatCount="indefinite" keyPoints="1;0" keyTimes="0;1" calcMode="linear">
          <mpath xlink:href="#so-line"/>
        </animateMotion>
       </circle>
      <path id="grid-line" d="M 349 170 L 407.03 170.03 Q 417.03 170.03 417.03
      180.03 L 417 243" fill="none" stroke="#558fc1" stroke-width="2"
      stroke-miterlimit="10" stroke-dasharray="2 2" pointer-events="stroke"/>
       <circle id="grid-dot" cx="0" cy="0" r="3" fill="#558fc1">
        <animateMotion dur="8s" repeatCount="indefinite" keyPoints="1;0.2" keyTimes="0;1" calcMode="linear">
          <mpath xlink:href="#grid-line"/>
        </animateMotion>
       </circle>
      <rect x="279" y="135" width="70" height="70" rx="10.5" ry="10.5"
      fill="none" stroke="#558fc1" pointer-events="all"/> <path d="M 417 273 L
      417 293.5" fill="none" stroke="#558fc1" stroke-width="2"
      stroke-miterlimit="10" stroke-dasharray="2 2" pointer-events="stroke"/>
      <rect x="382" y="243" width="70" height="30" rx="4.5" ry="4.5" fill="none"
      stroke="#558fc1" pointer-events="all"/> <path d="M 278 69 L 215.03 69 Q
      205.03 69 205.03 79 L 205.03 110.03 Q 205.03 120.03 204.68 130.03 L 204.15
      145" fill="none" stroke="#5fb5ab" stroke-width="2" stroke-miterlimit="10"
      stroke-dasharray="2 2" pointer-events="stroke"/> <path id="es-line" d="M
      348 69 L 377.5 69" fill="none" stroke="#5fb5ab" stroke-width="2"
      stroke-miterlimit="10" stroke-dasharray="2 2" pointer-events="stroke"/>
      <rect x="278" y="54" width="70" height="30" rx="4.5" ry="4.5" fill="none"
      stroke="#5fb5ab" pointer-events="all"/> 
       <circle id="es-dot" cx="0" cy="0" r="3" fill="#5fb5ab">
        <animateMotion dur="4s" repeatCount="indefinite" keyPoints="0;1" keyTimes="0;1" calcMode="linear">
          <mpath xlink:href="#es-line"/>
        </animateMotion>
       </circle>
      <path d="M 239.15 170 L 279 170" fill="none" stroke="#558fc1"
      stroke-width="2" stroke-miterlimit="10" stroke-dasharray="2 2"
      pointer-events="stroke"/> <path d="M 204.15 195 L 204.15 220" fill="none"
      stroke="#959595" stroke-width="2" stroke-miterlimit="10"
      stroke-dasharray="2 2" pointer-events="stroke"/> <rect x="169.15" y="145"
      width="70" height="50" rx="7.5" ry="7.5" fill="none" stroke="#959595"
      pointer-events="all"/> <image x="6.5" y="-0.5" width="56" height="56"
      xlink:href="data:image/png;base64,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"
      preserveAspectRatio="none"/> <image x="107.5" y="-0.5" width="56"
      height="56"
      xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH0AAAB9CAYAAACPgGwlAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAABgAAAAYADwa0LPAAAJA0lEQVR42u2dbYxcVRmAn/fOFLfaRiOaAlWTkviDAi67M21UjKKRRPnwD2xhEwShdGfTKipBlCopBRKhxRKT3XZmS7HGFqRFTKQQgxE1xDR1d7Yl0BoaaP1hqZWWtpS6XXZ2Xn/M1tL17s79mnvuvTlP0h9tzz3nPfeZd+7cd849AxaLxWKxWCwWi8VisVgsFoslPsRrQy0XuxGuMB1wU2qyQpYN/st1DpXCpThakyXDfzcdpknynlsKl4P2mA64Kbn6S8Am9znIZdTZqOXC8zjOvdIzuMt0uCZwTAcQOeJ8pemchWvQelUrnU9quWO+6ZDjJnvS0aL3ucuNiPOKlgvP6rpih+nI4yKD0rlIf3FFm69zIFyDo0NaLjylAwsuNj2BVpNF6XlGj18Y4DgHYRFaz3zmZ1E6IJ8Kc/BE5le1XHhWK4VO07OJmoxK5/wI+mjIh0EdKGzVSuFS05OKimxKF5kdYW8OyvXAy1nJ/IxK50Mt6bWR+UNaKazVFek9d96LM+niPy3q9zBIP6O5NbKSuulJBiWb0uv6TsQ9npF9x46o+46dbEqH4xH1kynZp8mmdJEDIXvIpOzTZFP6+Ht7Ax6ZadmnyaL0Q7L0laM+jzkC0pd12afJoHR51Ufjw8DPqI30ybI975qOPC4yKJ0/eWjTyGz0USlVo/rQlxqyJ13HX5z6//RthOXk2vpk8V9PmA7VFFmTfpyDHx6c6j+lVH0OeM50kKZJbSlxCrbKyj/XTAeRdLIlXeu/Mh1CGsiS9P2Udr5kOog0kCHpskYENR1FGsiK9EOcnLHBdBBpIRvSlVVy5/YR02GkhSxIf42PjvSZDiIs+njHx+MaK/3SVb8ni/a8ZzqM0IzlVsQ1VMqlyybpHf696SjCogMLLgO9Oa7x0iz9dUZzy0wHEQ31VcToIq3SR4EbsvA1qFYKV6NcGeeYaZSuiC6WUnV42kZ9C881HWjTiWzpygEPxz1u+qQrd0nP8OZpm1QKtzOjlvyS7NH9twOxPzuXLunCg9JbXTNdE60US8AAyJVx3gb5RfvnzwK9z8TYaZGuoHdLT/XeaRuVi4tB19LYYSPPmCwyHfiUzJj5Q+A8E0OnQfop4CYpDa+erpEOdC5BdP1ZcxLpNh28a6zr2uei3Glq/KRL34s4n5NS9YnpGulA8TZUykzeQ0f5vK5fOM/0JP4PyT8IfNDU8EmVrsAvybcVm+0Lo+XiYnRShp9BqI/fYHoyZ8fb0Y4QWyHGjSQul9oLfEdK1ReaNdRy562IDjD9i7cbeMj0pP6H46xGzSZbkjL9APBd4BLvwuUxD3P4jK4rXmJ6cgA6UPx63IUYN5KQ6a+BPMrosY1yx+ujXg7Qgc5voZ6EN3DoBn5scpK6pSvH0X2rw/cUHlPS/w26BWSTlKo7/ByolcItKBvw9S6l3ar8xOjKmrffWIxIIjYx8i7dyT2Ajm2nLl8COhEuBrzs4jQG7EfZjcNfUF6kp/pqEAFaLt4M+jj+L0vzqHR8FnZub+G5nDru/vmzEFlpYmw3PEuXJTsOAZsn/jTert76xwXM4JMwPgeVPKIfAY5Td97FkZMgB9Hx/VKqjp3VWSnAiRsofhMNJLyB43QDRqSTn3k3hgoxbnjeG9Yk2rfwXM4ZfxrliwT/8HmIN2d/Iu518bqufS5Ofi/N78tPSqk6K46YkvTpfUrk2387Ij3VLwNzULkFZRvgV94cLjjRbAvRFgRvthDjGpLpAIKilcLHULkKtAvha3i5VCkbpbd6a2wxljvaEWcYb8kVW6anVvr78fECeIeT55wX18pZHSi84OO+3EoPStMXgEqX9A49HUMcVwPbfBySPOm6vvMi6hK+sqVyTHqH/hDH5LRSOB/kOqAL9As0dn5+RkpD17V03EYh5mX8LZCITbrf4syvCfvhz9HlQCzSpVQ9CPQBfWdeAHqtbrh8dkufT09QIcb1vPhprJXOJ0FuDDHeEfJt87K8IYD2z59FfuZe/O9Pm9BbNof7IdROiY9kWThwekVMFBsStwxf0hs/eCNbA451hHxbv+kJt5KJFTHfNx1HM/xfn3U8WLYrqzOf5Y1CTCs2I44U39Kld+eeANl+hBlta01PtpUkYUWMV4J9Eved7bIq81nuOKtJS1k76IFaLjyF4GWJ8VvURi7M8uZ8jRUx+nzIbk4hcm3go2vsk6VD+7w0DbGIor4SnOtp+uqWRzItvFGIWRVBV22oBq1f1HDq7V4bB347alzb+U2TZofJf2BdBCckuTQeTTK8Bk8qEz48Ee4aJM5Kpr22a6av5ROPJsW2mcAUnMDJPeDngFDSpWdwN1Nn+2Fqp7Kd5Y0VMWYLMcJPJ1Y1eSb8p82psl14ONPX8nXtc8Hco0kT/BPl534PCi1degZ3Izwz6Z8PMzZSNnxCWksSCjGq90ip6vtHiiK6r3Tu4/3ZnvUsT0YhZhcHh58IcmAk0hvXdv3txF+zn+VJKMRo/a6gPxMWXeCSW0Ej2x/KdpYXrzL/aJL+Tnp3/jHo0ZFJn8j29dRGKmZPSOvQLV05RGPfI2YSNVTvCdNBtI81vTm8NM2/TNiUY2/cBhEsGQvHej+FGDcytzCyVYRYERMlJ3Dyn/Z7Xz6ZVHwrlAhSWohxw0r3QJoLMW5Y6V5IcSHGjSRsSpBodAUOjmwL/n25fAP0ppBhDActxLhGFOH5sbiglc4fgIT7vl3rXw1zXz4Z+/aeeMIVYtyw0pNNDcktj7pTKz3RSGVizUKkWOnJxfeKGK9Y6UklokKMG1Z6MjkQVSHGDSs9iaj+KKpCjBtWevIIvCLGK1Z60gixIsYrVnqiiL4Q44aVnhzGW1GIccNKTwpKSwoxbljpyeAEufz9cQ1mpSeBFhZi3LDSzdPSQowbVrppWlyIccNKN0vLCzFuWOkmiaEQ44aVbox4CjFuWOlmiK0Q44aVboIYCzFuWOnxE2shxg0rPW5iLsS4YaXHS+yFGDes9DgRiezRpDBY6fGxiwNDm00HAVZ6fBgqxLhhpceCuUKMG/ap1Zbj1BAxVoixGED7FyTmh3UtFovFYrFYLBaLxWKxWCwWiwn+C4ByAuJqB8e4AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIyLTEwLTMxVDIwOjQyOjQ3KzAwOjAwrvYJRwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMi0xMC0zMVQyMDo0Mjo0NyswMDowMN+rsfsAAAAASUVORK5CYII="
      preserveAspectRatio="none"/> <svg xmlns="http://www.w3.org/2000/svg"
      id="bat-high" x="73.5" y="279.25" width="82" height="82"
      preserveAspectRatio="none" opacity="0" viewBox="0 0 24 24"><path
      fill="#f3b1c9" d="M12 20H4V6h8m.67-2H11V2H5v2H3.33C2.6 4 2 4.6 2
      5.33v15.34C2 21.4 2.6 22 3.33 22h9.34c.74 0 1.33-.59 1.33-1.33V5.33C14 4.6
      13.4 4 12.67 4M11 16H5v3h6v-3m0-9H5v3h6V7m0 4.5H5v3h6v-3M23 10h-3V3l-5
      10h3v8"/></svg> <svg xmlns="http://www.w3.org/2000/svg" id="bat-med"
      x="73.5" y="279.25" width="82" height="82" preserveAspectRatio="none"
      opacity="0" viewBox="0 0 24 24"><path fill="#f3b1c9" d="M12
      20H4V6h8m.67-2H11V2H5v2H3.33C2.6 4 2 4.6 2 5.33v15.34C2 21.4 2.6 22 3.33
      22h9.34c.74 0 1.33-.59 1.33-1.33V5.33C14 4.6 13.4 4 12.67 4M11
      16H5v3h6v-3m0-4.5H5v3h6v-3M23 10h-3V3l-5 10h3v8"/></svg> <svg
      xmlns="http://www.w3.org/2000/svg" id="bat-low" x="73.5" y="279.25"
      width="82" height="82" preserveAspectRatio="none" opacity="0" viewBox="0 0
      24 24"><path fill="#f3b1c9" d="M12 20H4V6h8m.67-2H11V2H5v2H3.33C2.6 4 2
      4.6 2 5.33v15.34C2 21.4 2.6 22 3.33 22h9.34c.74 0 1.33-.59
      1.33-1.33V5.33C14 4.6 13.4 4 12.67 4M11 16H5v3h6v-3m12-6h-3V3l-5
      10h3v8"/></svg> <svg xmlns="http://www.w3.org/2000/svg" id="bat-empty"
      x="73.5" y="279.25" width="82" height="82" preserveAspectRatio="none"
      opacity="0" viewBox="0 0 24 24"><path fill="#f3b1c9" d="M23.05 11h-3V4l-5
      10h3v8M12 20H4l.05-14h8m.67-2h-1.67V2h-6v2H3.38a1.33 1.33 0 0 0-1.33
      1.33v15.34c0 .73.6 1.33 1.33 1.33h9.34c.73 0 1.33-.6 1.33-1.33V5.33A1.33
      1.33 0 0 0 12.72 4Z"/></svg> <image x="383" y="293" width="67" height="67"
      xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIEAAACBCAYAAADnoNlQAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAABgAAAAYADwa0LPAAAO1UlEQVR42u2deXQV1R3Hv78774VAtCQsIiJq3a1U61qXbA+sHpd6VJgEV6xWPcdWTcDtVPHxVNyAvIC77Wl71GqTB/WcHo87Ji9BEcUdpFqtWlcgSlwIWebdX/9IwPgyIXfeMnMnnc9/zLvLbyZf7m/u3N/9XSAgICAgICAgICAgICAgICAgICAgYCvktQEqmHc07UwhTPHaDqcYEm88emWkzWs7hiLktQEqcFgsBlDltR1O6RH0RwAXe23HUGg/ElTHkwdIYA0A4bUtGdCDEPZLXFbxodeGbA/tH2wKNNcPdg5CGBau9dqIodB6JJi+OLmPkFgHwPDalizQfjTQ+n8YpfgG+FsAABAmC9d4bcT20HYkqF6yfC+ZCv0LPnl5HQKtRwNtR4JUKjQXw0MAgOajgZYjwRl1rXsaJN/F8BEBAPQYkPv+vTbykdeGpKPlSCBIXofhJQAACFsktBwNtBsJzPrW3cDy3wAKvLYlD2g5Guj3v43ldXAiAMIjLPGJV+aSwGQwzlIsHk7BuBrApV7Za3sPXhvQn5mLkpNTAu9DWQT0wcb21P7NsYjllc1mY6OBzya8A2BfxSrdqZS17z+unPaxVzano9U7gWXgD3AwCjDL+V4KAAASVVUpgG51UKUgFApd7aXN6egjAmYixu4OavxnTNEOD3ttNgBsbE89DOB95VuV2APM2ozC+oiAiBO1FScRqBSM5UMWB+Y/cMnhPV6bDQC9oxHNVyj6AoBpidkVJ4OIvbZ7K9qoMR0znpwKUAzg0gE/Mj4sKSraT1UEZ93TWtLZiRKnNhQWYtMjl5ZtUilbGW0KjS8W6wDsbWPvcgg5L1ETWeH6g1RAWxFsxaxvKgUbNwFcufUagy5aWlv+J9U2quqbH2WmmU77ZtCjS2vLVd/8YcZbzgf4L/0uvQDghkRtxfPePD019HEHg5CoiaxI1JZHQLIMQBLAf6l9zIPKDTATgyoz6ZvA0xz57klfPgTgPWwd9msrSnUXQO99+gyzbvmkxOxpn6mWn17fcpBgfjPT/iTRwctqyt9St+/FMYnZx3zt9XNygvYjQTpOBAAAguVx2fRnSExzZp+/BAD4UASOYXL0RxxYnbOq7weGtQgqo00hEEqzbKb84vtXh72+l3wyrEUwvgRHAfhJls3s2N7RcaTX95JPhrUImEVOhnImOaxdwrAWAcHZS92gZPleoTu+myKqcu6Cp4s6Q4VfIzdxCd0okGMTv4t87/V95YNhOxJsCY0oR+4CUwrQlfULprYMWxEIyu0QzpSb9wsdGbYiYOasPhKlQ0BO29OJYflOcObCpnGWIdYjtyJnGDQhcXn5Rq/vL9cMy5HAColpebg3IosjXt9bPhiWImCZnykdU46mnJrhujuYUd9sElOj1zeuL2QmasuXutmjuyMBMxHT9a726TvkvGiUXf27uNpZVbzFBHCQm336DzpwbXHLaW726JoIolEWTAhGAQUIiLk5GrjW0TslLSaAn7vVn8+Zsq649VS3OnNFBNEoCzCuc+umhgMMjrq1N8EVEawd3VqFYBRwyi/MxS2/dqOjvIsgGmVBxMEokBnz3BgN8i6CdcXJasB/iSi1gHHIjMUrTs53N3kVgdnYaHBvCrqADCGWsXyPBvnNT/DphGoQDnBQ4yOAlDd2+hfeG8AeioUPraprObEReCJf1uRNBGZjo4HPMRdOtl0yVSdml7+cL5t0wVzcehikfAWKn+2Z+EYwP5mvTax5cwf82YSZYOzvoMo//x8EAACJK8peBfCUcgWiw8x48wn5sidvIiDQbx0UZykxL1+26IgkEXNWQ1yWL1vy92LYPuYEMF8CQGXb2GPL5lS8njdbNGRZTdkqAE8rFG0jIIbubuXd0U7J+xzUjK4pwOi280E0F8CuNkVYSHFIw5yyjDeN+pXqRU1HSSFWDvJzGwF3h40RdX+7/Khv82mHa/EEJy55YsQOcoeLwHwN+ouBkUjMrsj4LIPTF7ywUyhkrVQsbm0ZVXTI45cc3jFYgVPuXz1qZMfmN6CYU9myQkc/dtWxGzK134wnnwZwfL9L65mxoLOo6N7t2ZlLXEth9+TlJ3UBuMuMrnmAS76aSYwogD2koJuzadcwUlMB7KlYfOVQD/bxSw7vMOPJdgBHqDQYClsRAA2Z3wHPA+h4ABuJsKhjZNGdbv3xt+J6eFkiNqV7aU3Fg2gfewAzTnSy938QpqoWZPBzSgVp6JxJ29rMMpQtUVu5komrwOHdG2sqbndbAICHySwTsSndAJ7Jth2Cemi5IFISAUs0EakdVkE52Lq+tKYykW0b2eDrQNMzFi7fHYSfKhbf/J3YvEqlYGdR0QoAXYrt7mnemVS1QUt8LYJQyDheuTAj2fdeMiR9Q/JLyk1b/t6w6msRsJPdwsTKfh4AGGhSLSt8vnXdvyLoXVlT3gzCoPVOmiew8rSPmabqlKHUKb41PIOsZF+ER4gDVZJT9m1jWwtgJ+XWGQclZle87fVzyQTfjgQZZCWb2N0l4yoFLYPuhRMBACCQbzes+lYEmWQPIWBWVXz7Mf1VdckqgGY4N8e/Wc586Q768gh/hcySUn0BDk+xyzfY5wbWAJiQQbvflYwqGqtL0m0n+HIkyDIr2USiHlu3YBniLmQmAMDHWc58KYJss5IxcJ5Z13x6/2tmffJUANVZtevTqaIvRUAO1guAQWYQRHebdS+OAYDT73puLBgPDNKA0lfG3q78+dHIdyI45f7VowD8UvkGpVEFwC5sbSKjezEAhKzwEti7gZUI4UwH5h117oKni7x+Rk7xnQhGbv6uHMAIxeIfNcwpe0+ycQFs1gKI6Jyq+uTdg5xmtgVk/Kb3aFv6QLG/gk6joMzrZ+QU34mAhFCfj/cdo7NsdulaBtnG9DHbH0/HjLmJmtJ3+/6lvrTswyxnvhMBs3rKGOq3XtDWnloA4BXFqqto1/X129pROJPphz79l9LGVyI4/a7nxkI9yQVzD29bBGqORSwBzAKhc4h6XZKNC3uPuuulp6BnOQCp1isOPnNh0zivn5UTfCWCcHfYSVaytxNXR77sf6GhtmIdSb5pe5WIEF02u3Rt/2uP/f64rwCoRkCJnhD5KsuZr0QAchBKNsjS8YZv+A5g0GN1P9mwSS6ybQ9QC00DIHw2VfSVCNjBIg2xsBXBTqPpRACTB6k2eVyxONW+Pan+cpir7Oou4RsRmPWtuwG8l2Jxq8AoaE2/eFq8qZiJ7t1eRQLuM5e0jE+/vqVoxxaoh5ztPTPetIfXz0wV34gAkL9SL0sv2W3YCDHdCWDSEJXHU4oHrC30hZwpfz2UEA6+anqLb0TgJJSMbOb1M+pbTyGic5T6As6eEU+eMbBhJ98L/OMS/CECZiJSzyss+cd/rLPuaS0hlvfbFibY7oEkwra1hW1mKIas9+GbkDNfiKB6SfOBYOysWHzz5lDHj9YKrC5ZD2AXm7KvFW2Sx8DuIxJjZ6KeJf0vtX0tXwagti+QsfP0+As/8/rZqeALEaSk4SR0q6V/aLkZbzmZgfNsynUJIWf9NRbpHOwjUrpbaI5FLDC3qBoikPJFyJkvRECsvk7P/T7xmrc9Oxrg+2zbJEQbroisAbb/ESl9tsAk1EPXffJeoL0Ieg+4pHLV8gaLbX6bRxQshv12+NeKRxbV9b/Q9xHJbm3hR7MFYkf7Fyr9cLCm9iIYN0YcCfVQsrb9vy19GwCqFiVPImCWTZkuIeSs9FjA7a0t9HcLidryNSB8CTV23NTx/eFeP8Oh0F4Ewtmu3+WxGEnztmdHs8CQbiCdhtqKdWDYbpXf5hZ6k0c9r2oQ5/hArnygvQgY6qHcW5eOqXBEHPafhge4gXQ2tsvbMYRbcLS07IN1BK3nsX1ZQ76GYiRRisVeIVh7MolnbO6tS7JxWPoKoR3V8eQBkvAaGIXpvzEwnUisBsuPFW+ju9DqHPPQVSds9vp5DobWI8GoLR1lUA4lo49HhsJtTOLPsBG33RLxYDTUVqxjYL5tL8B9ELwFgGrSzYItRuGxXjw/VbQWAUtHU8Nnuq2uOti7gVW8y/qFTvpu2yRvA7Da5qfxlOI4Qd0l5PqgzlyjtQjg4OEJkgTCBTY/DYgUUqE5FrFg0CzYrBwycDaIR6u2xQ6+c3iBtu8EZt2LY0A9G6Eu1A4AowbcIOHaxpqK2zO1oyreMpfBNw74gdBp984wCBIcHm+39U0H9B0JyJrq0L5RNtccu4F0NrSnboWdW1AXAAAIEpa2IWfaiiAHu3wzcgPpNMciliS6EEB3VvfjIErabbQVAWX50Bh8g+psYCiW1ZS/BeL52bWi79Z1LUUwc1FyMoB9smhiFU3asCiL+gPYuIlvAfOrWTSx7xkLl++eS5tyhZYisCirY+9z4gbSaY5FLCnEBcjCLRhGWMv3Ai1FkNW8mmhurtxAOstqyt9i4JZM6+s6VdRSBAxUZlh1FXb5si7Dukq0tcv5mboFIpqmY8iZdiKYXrfiQAwdEWxHXtxAOs2xiCXYyHS2MNG8s9XJmVCuoJ0IDGFlNmTm0Q2k0zCn7E0Cbs2kLqf0cwnaicBRltIfyLsbSGdDu7w5E7dA0G8dQSsRmI2NBgDlULI+XHED6fRzC06zlVX23ac2aCUC8cn4IwAUO6lDwPVuuYF0GuaUvQkmp25htPx8olYhZ1qJQAqHWT4IL/Gk9UpZSvPFxm9SNwF4zUkdQ6a0cglaicBhiHYXBLnuBtJpjkUsIcUFcOAWdIs71EYE50ebCgEcrVqegOsTl5e/47XdQK9bYPBtyhUIx5h1L4702u6taCOCjtEodbA8+57XbiAdah93M4BPlQozCgld2oScaSMCCfWsZMx4yms3kE4iNqWbHZzpxE7ff/KINiJwkvVLECmfSuImQvW0NQDQKL5ACxGcFm8qBnCIYnHZE+5uVSzrKkaKn4VqljPg0LPuaS3x2mZAExGEerN6qH5AeaMvm5h2PHplpA1g1dNPjJ7OVKXXNgMenovYHwrhdepRS0dDhvI+QE8Qgs/hFCvlUuCwUE2XGxAQEBAQEBAQEBAQEBAQEBAQEBDgEv8DNdj7Mf1yaLkAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjItMTAtMzFUMjE6MTc6MjYrMDA6MDCEBrX3AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIyLTEwLTMxVDIxOjE3OjI2KzAwOjAw9VsNSwAAAABJRU5ErkJggg=="
      preserveAspectRatio="none"/> <image x="377" y="30" width="77" height="77"
      xlink:href="data:image/png;base64,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"
      preserveAspectRatio="none"/> <rect x="0" y="54" width="70" height="30"
      rx="4.5" ry="4.5" fill="none" stroke="#ff9933" pointer-events="all"/>
      <rect x="101" y="54" width="70" height="30" rx="4.5" ry="4.5" fill="none"
      stroke="#ff9933" pointer-events="all"/> </g></svg> </div>
    actions: null
    bindings:
      - bind: return hass.states["sensor.pv1_power"].state + ' W'
        selector: '#pv1_power_186'
        type: html
      - bind: return hass.states["sensor.pv2_power"].state + ' W'
        selector: '#pv2_power_187'
        type: html
      - bind: return hass.states["sensor.sunsynk_totalsolar"].state + ' W'
        selector: '#pvtotal_power'
        type: html
      - bind: return hass.states["sensor.battery_voltage"].state + ' V'
        selector: '#battery_voltage_183'
        type: html
      - bind: return hass.states["sensor.battery_soc"].state + ' %'
        selector: '#battery_soc_184'
        type: html
      - bind: >-
          return hass.states["sensor.battery_output_power"].state < "0" ?
          hass.states["sensor.battery_output_power"].state*-1 + ' W' :
          hass.states["sensor.battery_output_power"].state + ' W'
        selector: '#battery_out_190'
        type: html
      - bind: return hass.states["sensor.inverter_output_power"].state + ' W'
        selector: '#inverter_out_175'
        type: html
      - bind: return hass.states["sensor.inverter_output_current"].state + ' A'
        selector: '#inverter_out_164'
        type: html
      - bind: return hass.states["sensor.aux_output_power"].state + ' W'
        selector: '#aux_power_166'
        type: html
      - bind: return hass.states["sensor.sunsynk_essential_load"].state + ' W'
        selector: '#ess_power'
        type: html
      - bind: return hass.states["sensor.grid_inverter_voltage"].state + ' V'
        selector: '#inverter_grid_voltage_154'
        type: html
      - bind: return hass.states["sensor.load_frequency"].state + ' Hz'
        selector: '#inverter_load_freq_192'
        type: html
      - bind: return hass.states["sensor.grid_inverter_load"].state + ' W'
        selector: '#inverter_load_grid_167'
        type: html
      - bind: return hass.states["sensor.grid_external_power"].state + ' W'
        selector: '#grid_external_power_172'
        type: html
      - bind: >-
          return parseInt(hass.states["sensor.grid_external_power"].state) -
          parseInt(hass.states["sensor.grid_inverter_load"].state) + ' W'
        selector: '#non_ess_power'
        type: html
      - bind: >-
          return hass.states["sensor.overall_state"].state == "0" ? "blue" :
          "transparent"
        selector: '#standby'
        type: fill
      - bind: >-
          return hass.states["sensor.overall_state"].state == "1" ? "yellow" :
          "transparent"
        selector: '#selftest'
        type: fill
      - bind: >-
          return hass.states["sensor.overall_state"].state == "2" ? "green" :
          "transparent"
        selector: '#normal'
        type: fill
      - bind: >-
          return hass.states["sensor.overall_state"].state == "3" ? "orange" :
          "transparent"
        selector: '#alarm'
        type: fill
      - bind: >-
          return hass.states["sensor.overall_state"].state == "4" ? "red" :
          "transparent"
        selector: '#fault'
        type: fill
      - bind: >-
          return hass.states["binary_sensor.grid_connected_status"].state ==
          "off" ? "red" : "transparent"
        selector: '#grid'
        type: fill
      - bind: >-
          return hass.states["sensor.grid_external_power"].state <= "0" ?
          "transparent" : "#558fc1"
        selector: '#grid-dot'
        type: fill
      - bind: >-
          return hass.states["sensor.sunsynk_totalsolar"].state == "0" ?
          "transparent" : "#ff9933"
        selector: '#so-dot'
        type: fill
      - bind: >-
          return hass.states["sensor.sunsynk_essential_load"].state  == "0" ?
          "transparent" : "#5fb5ab"
        selector: '#es-dot'
        type: fill
      - bind: >-
          return hass.states["sensor.battery_output_power"].state  > "0" ?
          "transparent" : "#f3b1c9"
        selector: '#power-dot-discharge'
        type: fill
      - bind: >-
          return hass.states["sensor.battery_output_power"].state  < "0" ?
          "transparent" : "#f3b1c9"
        selector: '#power-dot-charge'
        type: fill
      - bind: >-
          return parseInt(hass.states["sensor.battery_soc"].state) > 80 ? "1" :
          "0"
        selector: '#bat-high'
        type: opacity
      - bind: >-
          return parseInt(hass.states["sensor.battery_soc"].state)  <= 80 &&
          parseInt(hass.states["sensor.battery_soc"].state)  >= 50 ?  "1" : "0"
        selector: '#bat-med'
        type: opacity
      - bind: >-
          return parseInt(hass.states["sensor.battery_soc"].state)  <= 49 &&
          parseInt(hass.states["sensor.battery_soc"].state)  > 30 ?  "1" : "0"
        selector: '#bat-low'
        type: opacity
      - bind: >-
          return parseInt(hass.states["sensor.battery_soc"].state) <= 30 ?  "1"
          : "0"
        selector: '#bat-empty'
        type: opacity
  - type: custom:plotly-graph
    view_layout:
      grid-area: graph
    entities:
      - entity: sensor.sunsynk_totalsolar
        name: |
          $fn ({ ys,meta }) =>
            "Solar" + "🔆" + "(" +ys[ys.length - 1]+"W)"
        fill: tozeroy
        line:
          color: rgb(255, 155, 48)
      - entity: sensor.sunsynk_essential_load
        name: |
          $fn ({ ys,meta }) =>
            "Load" + "⚡" + "(" +ys[ys.length - 1]+"W)"
        fill: tozeroy
        line:
          color: rgb(95, 182, 173)
      - entity: sensor.grid_external_power
        name: |
          $fn ({ ys,meta }) =>
            "Grid" + "💡" + "(" +ys[ys.length - 1]+"W)"
        fill: tozeroy
        line:
          color: rgb(84, 144, 194)
      - entity: sensor.battery_output_power
        fill: tozeroy
        name: |
          $fn ({ ys,meta }) =>
            "Battery" + "🔋" + "(" +ys[ys.length - 1]+"W)"
        line:
          color: rgb(243, 179, 202)
      - entity: sensor.battery_soc
        name: |
          $fn ({ ys,meta }) =>
            "SOC" + "⚠️" + "(" +ys[ys.length - 1]+"%)"
        yaxis: y2
        line:
          color: red
          width: 1
          shape: spline
        fill: none
        filters:
          - sliding_window_moving_average:
              window_size: 1
              extended: true
    hours_to_show: 24
    refresh_interval: 60
    title: null
    defaults:
      entity:
        show_value: false
      yaxes:
        fixedrange: true
    layout:
      legend:
        bgcolor: rgba(0,0,0,0)
        itemsizing: constant
        font:
          size: 11
      yaxis2:
        range:
          - 20
          - 105
        fixedrange: true
      height: 405
      yaxis:
        tickmode: linear
        dtick: 1000
    config:
      scrollZoom: false
  - type: custom:plotly-graph
    view_layout:
      grid-area: daily
    entities:
      - entity: sensor.daily_pv_power_kwh
        statistic: state
        name: |
          $fn ({ ys,meta }) =>
            "Solar" + "🔆" + "(" +ys[ys.length - 1]+"kWh)"
        period: day
        type: bar
        texttemplate: '%{y}'
        filters:
          - filter: i>0
        marker:
          color: rgb(255, 155, 48)
      - entity: sensor.daily_load_power_kwh
        statistic: state
        name: |
          $fn ({ ys,meta }) =>
            "Load" + "⚡" + "(" +ys[ys.length - 1]+"kWh)"
        period: day
        type: bar
        filters:
          - filter: i>0
        texttemplate: '%{y}'
        marker:
          color: rgb(95, 182, 173)
      - entity: sensor.grid_import_day_buy
        statistic: state
        name: |
          $fn ({ ys,meta }) =>
            "Grid Import" + "💡" + "(" +ys[ys.length - 1]+"kWh)"
        period: day
        type: bar
        texttemplate: '%{y}'
        filters:
          - filter: i>0
        marker:
          color: rgb(84, 144, 194)
      - entity: sensor.battery_discharge_day
        statistic: state
        name: |
          $fn ({ ys,meta }) =>
            "Battery Discharge" + "🖱️" + "(" +ys[ys.length - 1]+"kWh)"
        period: day
        type: bar
        texttemplate: '%{y}'
        filters:
          - filter: i>0
        marker:
          color: rgb(151, 90, 182)
      - entity: sensor.battery_charge_day
        statistic: state
        name: |
          $fn ({ ys,meta }) =>
            "Battery Charge" + "🔋" + "(" +ys[ys.length - 1]+"kWh)"
        period: day
        type: bar
        texttemplate: '%{y}'
        filters:
          - filter: i>0
        marker:
          color: yellow
    hours_to_show: 5d
    title: null
    refresh_interval: 120
    defaults:
      yaxes:
        fixedrange: true
    layout:
      legend:
        bgcolor: rgba(0,0,0,0)
        itemsizing: constant
        font:
          size: 11
      height: 410
    config:
      displayModeBar: false
      scrollZoom: false
    time_offset: 12h
  - type: energy-usage-graph
    view_layout:
      grid-area: usage
    title: Energy Usage
  - type: energy-distribution
    title: Energy Distribution
    show_header_toggle: false
    view_layout:
      grid-area: energy
  - type: energy-solar-graph
    title: Solar Energy
    show_header_toggle: false
    view_layout:
      grid-area: solar
  - type: custom:plotly-graph
    view_layout:
      grid-area: total
    entities:
      - entity: sensor.total_pv_power_kwh
        statistic: state
        name: |
          $fn ({ ys,meta }) =>
            "Solar" + "🔆" + "(" +ys[ys.length - 1]+"kWh)"
        period: day
        type: bar
        width: $fn() => 1000*60*60*3
        offset: $fn() => 1000*60*60*3.5
        texttemplate: '%{y}'
        filters:
          - filter: i>0
          - force_numeric
        marker:
          color: rgb(255, 155, 48)
      - entity: sensor.total_load_power_kwh
        statistic: state
        name: |
          $fn ({ ys,meta }) =>
            "Load" + "⚡" + "(" +ys[ys.length - 1]+"kWh)"
        period: day
        type: bar
        width: $fn() => 1000*60*60*3
        offset: $fn() => 1000*60*60*7
        filters:
          - filter: i>0
          - force_numeric
        texttemplate: '%{y}'
        marker:
          color: rgb(95, 182, 173)
      - entity: sensor.total_grid_import_kwh
        statistic: state
        name: |
          $fn ({ ys,meta }) =>
            "Grid Import" + "💡" + "(" +ys[ys.length - 1]+"kWh)"
        period: day
        type: bar
        width: $fn() => 1000*60*60*3
        offset: $fn() => 1000*60*60*10.5
        texttemplate: '%{y}'
        filters:
          - filter: i>0
          - force_numeric
        marker:
          color: rgb(84, 144, 194)
      - entity: sensor.total_battery_discharge_kwh
        statistic: state
        name: |
          $fn ({ ys,meta }) =>
            "Bat Discharge" + "🖱️" + "(" +ys[ys.length - 1]+"kWh)"
        period: day
        type: bar
        width: $fn() => 1000*60*60*3
        offset: $fn() => 1000*60*60*14
        texttemplate: '%{y}'
        filters:
          - filter: i>0
          - force_numeric
        marker:
          color: rgb(151, 90, 182)
      - entity: sensor.total_battery_charge_kwh
        statistic: state
        name: |
          $fn ({ ys,meta }) =>
            "Bat Charge" + "🔋" + "(" +ys[ys.length - 1]+"kWh)"
        period: day
        type: bar
        width: $fn() => 1000*60*60*3
        offset: $fn() => 1000*60*60*17.5
        texttemplate: '%{y}'
        filters:
          - filter: i>0
          - force_numeric
        marker:
          color: yellow
    hours_to_show: current_day
    defaults:
      entity:
        line:
          width: 2
      yaxes:
        fixedrange: true
    title: null
    layout:
      barmode: group
      xaxis:
        nticks: 1
      height: 410
    time_offset: '-1m'
    config:
      displayModeBar: false
      scrollZoom: false
  - type: custom:apexcharts-card
    view_layout:
      grid-area: stats
    chart_type: donut
    header:
      show: true
      title: Generation Purpose
      show_states: true
      colorize_states: true
    apex_config:
      chart:
        toolbar:
          show: false
          autoSelected: zoom
      stroke:
        width: 1
        curve: smooth
      legend:
        show: false
      responsive:
        - breakpoint: 800
          options:
            chart:
              height: 360px
        - breakpoint: 1300
          options:
            chart:
              height: 265px
        - breakpoint: 10000
          options:
            chart:
              height: 363px
    series:
      - entity: sensor.daily_load_power_kwh
        name: Consumption
      - entity: sensor.battery_charge_day
        name: Charging
  - type: custom:apexcharts-card
    view_layout:
      grid-area: stats1
    chart_type: donut
    header:
      show: true
      title: Generation Today
      show_states: true
      colorize_states: true
    apex_config:
      chart:
        toolbar:
          show: false
          autoSelected: zoom
      stroke:
        width: 1
        curve: smooth
      legend:
        show: false
      responsive:
        - breakpoint: 800
          options:
            chart:
              height: 360px
        - breakpoint: 1300
          options:
            chart:
              height: 320px
        - breakpoint: 10000
          options:
            chart:
              height: 354px
    series:
      - entity: sensor.daily_pv_power_kwh
        name: Solar
        color: rgb(255, 155, 48)
      - entity: sensor.battery_discharge_day
        name: Battery
        color: rgb(151, 90, 182)
      - entity: sensor.grid_import_day_buy
        name: Grid
        color: rgb(84, 144, 194)
  - type: vertical-stack
    cards:
      - type: custom:plotly-graph
        entities:
          - entity: sensor.sonoff_10013bda3a_energy
            statistic: state
            name: Daily Energy
            period: day
            type: bar
            texttemplate: '%{y}'
            filters:
              - filter: i>0
        hours_to_show: 7d
        defaults:
          entity:
            line:
              width: 2
          yaxes:
            fixedrange: true
        title: Daily Pool Energy
        layout:
          xaxis:
            rangeselector:
              'y': 1.05
              buttons:
                - count: 7
                  step: day
                - count: 30
                  step: day
                - count: 90
                  step: day
        config:
          displayModeBar: false
          scrollZoom: false
      - type: entities
        entities:
          - entity: switch.sonoff_10013bda3a
            name: Pool pump
          - entity: sensor.sonoff_10013bda3a_current
            icon: mdi:current-ac
            name: Current
          - entity: sensor.sonoff_10013bda3a_power
            icon: mdi:lightning-bolt
            name: Power
    view_layout:
      grid-area: bat
  - type: vertical-stack
    cards:
      - type: custom:plotly-graph
        entities:
          - entity: sensor.daily_geyser_energy
            statistic: state
            name: Daily Energy
            period: day
            type: bar
            texttemplate: '%{y}'
            filters:
              - filter: i>0
        hours_to_show: 7d
        defaults:
          entity:
            line:
              width: 2
          yaxes:
            fixedrange: true
        title: Daily Geyser Energy
        layout:
          xaxis:
            rangeselector:
              'y': 1.05
              buttons:
                - count: 7
                  step: day
                - count: 30
                  step: day
                - count: 90
                  step: day
        config:
          displayModeBar: false
          scrollZoom: false
      - type: entities
        entities:
          - entity: switch.geyser
          - entity: sensor.tuya_geyser_current
            icon: mdi:current-ac
            name: Current
          - entity: sensor.tuya_geyser_current_consumption
            icon: mdi:lightning-bolt
            name: Power
    view_layout:
      grid-area: geyser
  - type: markdown
    content: "  ## System Timer Settings\n<table width=\"100%\"  border=0>\n  <tbody> \n  <tr>\n    <td align=\"left\">\n    <b>Time Slot</b>\n    </td>\n    <td align=\"left\">\n    <b>Battery SOC</b>\n    </td>\n    <td align=\"left\">\n\t<b>Grid</b>\n\t</td>\n  </tr>\n  <tr>\n    <td align=\"left\">\n    01:00 - 05:00\n    </td>\n    <td align=\"left\">\n    {{ states('sensor.setting_soc_timezone1') }} %\n    </td>\n    <td align=\"left\">\n\t{% if is_state('sensor.setting_grid_charge_timezone1', '1') %} <ha-icon icon=\"mdi:checkbox-marked-outline\"></ha-icon> {% else %} <ha-icon icon=\"mdi:checkbox-blank-outline\"></ha-icon> {% endif %}\n\t</td>\n  </tr>\n  <tr>\n    <td align=\"left\">\n    05:00 - 09:00\n    </td>\n    <td align=\"left\">\n    {{ states('sensor.setting_soc_timezone2') }} %\n    </td>\n    <td align=\"left\">\n\t{% if is_state('sensor.setting_grid_charge_timezone2', '1') %} <ha-icon icon=\"mdi:checkbox-marked-outline\"></ha-icon> {% else %} <ha-icon icon=\"mdi:checkbox-blank-outline\"></ha-icon> {% endif %}\n\t</td>\n  </tr>\n  <tr>\n    <td align=\"left\">\n    09:00 - 17:00\n    </td>\n    <td align=\"left\">\n    {{ states('sensor.setting_soc_timezone3') }} %\n    </td>\n    <td align=\"left\">\n\t{% if is_state('sensor.setting_grid_charge_timezone3', '1') %} <ha-icon icon=\"mdi:checkbox-marked-outline\"></ha-icon> {% else %} <ha-icon icon=\"mdi:checkbox-blank-outline\"></ha-icon> {% endif %}\n\t</td>\n  </tr>\n  <tr>\n    <td align=\"left\">\n    17:00 - 20:00\n    </td>\n    <td align=\"left\">\n    {{ states('sensor.setting_soc_timezone4') }} %\n    </td>\n    <td align=\"left\">\n\t{% if is_state('sensor.setting_grid_charge_timezone4', '1') %} <ha-icon icon=\"mdi:checkbox-marked-outline\"></ha-icon> {% else %} <ha-icon icon=\"mdi:checkbox-blank-outline\"></ha-icon> {% endif %}\n\t</td>\n  </tr>\n  <tr>\n    <td align=\"left\">\n    20:00 - 22:00\n    </td>\n    <td align=\"left\">\n    {{ states('sensor.setting_soc_timezone5') }} %\n    </td>\n    <td align=\"left\">\n\t{% if is_state('sensor.setting_grid_charge_timezone5', '1') %} <ha-icon icon=\"mdi:checkbox-marked-outline\"></ha-icon> {% else %} <ha-icon icon=\"mdi:checkbox-blank-outline\"></ha-icon> {% endif %}\n\t</td>\n  </tr>\n  <tr>\n    <td align=\"left\">\n    22:00 - 01:00\n    </td>\n    <td align=\"left\">\n    {{ states('sensor.setting_soc_timezone6') }} %\n    </td>\n    <td align=\"left\">\n\t{% if is_state('sensor.setting_grid_charge_timezone6', '1') %} <ha-icon icon=\"mdi:checkbox-marked-outline\"></ha-icon> {% else %} <ha-icon icon=\"mdi:checkbox-blank-outline\"></ha-icon> {% endif %}\n\t</td>\n  </tr>\n  </tbody>\n</table>"
    view_layout:
      grid-area: weather
  - type: custom:flex-horseshoe-card
    view_layout:
      grid-area: g1
    entities:
      - entity: sensor.sunsynk_totalsolar
        decimals: 0
        unit: W
        name: Solar
      - entity: sensor.pv1_power
        decimals: 0
        unit: W
        name: PV1
      - entity: sensor.pv2_power
        decimals: 0
        unit: W
        name: PV2
      - entity: sensor.dc1_voltage
        decimals: 0
        unit: V
      - entity: sensor.dc2_voltage
        decimals: 0
        unit: V
      - entity: sensor.dc1_current
        decimals: 1
        unit: A
      - entity: sensor.dc2_current
        decimals: 1
        unit: A
      - entity: sensor.daily_pv_power_kwh
        decimals: 2
        unit: kWh
        name: Daily
    show:
      horseshoe_style: autominmax
    layout:
      hlines:
        - id: 0
          xpos: 50
          ypos: 40
          length: 70
          styles:
            - opacity: 0.2;
      vlines:
        - id: 0
          xpos: 50
          ypos: 59
          length: 36
          styles:
            - opacity: 0.2;
      states:
        - id: 0
          entity_index: 0
          xpos: 50
          ypos: 33
          styles:
            - font-size: 3em;
            - opacity: 0.9;
        - id: 1
          entity_index: 1
          xpos: 47
          ypos: 53
          styles:
            - font-size: 1.5em;
            - text-anchor: end;
        - id: 2
          entity_index: 2
          xpos: 53
          ypos: 53
          styles:
            - text-anchor: start;
            - font-size: 1.5em;
        - id: 3
          entity_index: 3
          xpos: 46
          ypos: 63
          styles:
            - text-anchor: end;
            - font-size: 1.5em;
        - id: 4
          entity_index: 4
          xpos: 53
          ypos: 63
          styles:
            - text-anchor: start;
            - font-size: 1.5em;
        - id: 5
          entity_index: 5
          xpos: 46
          ypos: 73
          styles:
            - text-anchor: end;
            - font-size: 1.5em;
        - id: 6
          entity_index: 6
          xpos: 53
          ypos: 73
          styles:
            - text-anchor: start;
            - font-size: 1.5em;
        - id: 7
          entity_index: 7
          xpos: 0
          ypos: 7
          styles:
            - text-anchor: start;
            - font-size: 1.2em;
      icons:
        - id: 0
          entity_index: 1
          xpos: 1
          ypos: 53
          align: start
          size: 1
        - id: 1
          entity_index: 2
          xpos: 53
          ypos: 65
          align: end
          size: 0.5
      names:
        - id: 0
          entity_index: 0
          xpos: 50
          ypos: 95
          styles:
            - font-size: 1.2em;
        - id: 1
          entity_index: 1
          xpos: 15
          ypos: 45
          styles:
            - text-anchor: start;
            - font-size: 0.5em;
        - id: 2
          entity_index: 2
          xpos: 85
          ypos: 45
          styles:
            - text-anchor: end;
            - font-size: 0.5em;
        - id: 3
          entity_index: 7
          xpos: 0
          ypos: 12
          styles:
            - text-anchor: start;
            - font-size: 0.5em;
    horseshoe_scale:
      min: 0
      max: 7000
      width: 6
    color_stops:
      '0': orange
      '2000': orange
    card_mod:
      style: |
        ha-card {
          --ha-card-background: var(--card-background-color);
          color: var(--primary-color); 
        }
  - type: custom:flex-horseshoe-card
    view_layout:
      grid-area: g2
    entities:
      - entity: sensor.battery_soc
        decimals: 0
        unit: '%'
        name: BATTERY
      - entity: sensor.battery_voltage
        decimals: 2
        unit: V
      - entity: sensor.battery_output_current
        decimals: 2
        unit: A
      - entity: sensor.battery_output_power
        decimals: 0
        unit: W
      - entity: sensor.battery_discharge_day
        decimals: 2
        unit: kWh
        name: Discharge
      - entity: sensor.battery_charge_day
        decimals: 2
        unit: kWh
        name: Charge
    show:
      horseshoe_style: autominmax
    layout:
      hlines:
        - id: 0
          xpos: 50
          ypos: 40
          length: 70
          styles:
            - opacity: 0.2;
        - id: 0
          xpos: 50
          ypos: 60
          length: 70
          styles:
            - opacity: 0.2;
      vlines:
        - id: 0
          xpos: 50
          ypos: 50
          length: 18
          styles:
            - opacity: 0.2;
      states:
        - id: 0
          entity_index: 0
          xpos: 50
          ypos: 33
          styles:
            - font-size: 3em;
            - opacity: 0.9;
        - id: 1
          entity_index: 1
          xpos: 44
          ypos: 53
          styles:
            - font-size: 1.5em;
            - text-anchor: end;
        - id: 2
          entity_index: 2
          xpos: 55
          ypos: 53
          styles:
            - text-anchor: start;
            - font-size: 1.5em;
        - id: 3
          entity_index: 3
          xpos: 34
          ypos: 75
          styles:
            - text-anchor: start;
            - font-size: 2em;
        - id: 4
          entity_index: 4
          xpos: 76
          ypos: 7
          styles:
            - text-anchor: start;
            - font-size: 1.2em;
        - id: 5
          entity_index: 5
          xpos: 0
          ypos: 7
          styles:
            - text-anchor: start;
            - font-size: 1.2em;
      icons:
        - id: 0
          entity_index: 1
          xpos: 30
          ypos: 52
          align: start
          size: 1
      names:
        - id: 0
          entity_index: 0
          xpos: 50
          ypos: 95
          styles:
            - font-size: 1.2em;
        - id: 1
          entity_index: 4
          xpos: 81
          ypos: 12
          styles:
            - font-size: 0.5em;
            - text-anchor: start;
        - id: 2
          entity_index: 5
          xpos: 0
          ypos: 12
          styles:
            - font-size: 0.5em;
            - text-anchor: start;
    horseshoe_scale:
      min: 0
      max: 100
      width: 6
    color_stops:
      '0': pink
      '2000': pink
    card_mod:
      style: |
        ha-card {
          --ha-card-background: var(--card-background-color);
          color: var(--primary-color);
        }
  - type: custom:flex-horseshoe-card
    view_layout:
      grid-area: g3
    entities:
      - entity: sensor.sunsynk_essential_load
        unit: W
        name: AC
      - entity: sensor.grid_inverter_voltage
        decimals: 0
        unit: V
      - entity: sensor.grid_frequency
        decimals: 2
        unit: Hz
        name: Grid
      - entity: sensor.grid_external_power
        decimals: 0
        unit: W
        name: Grid
      - entity: sensor.grid_import_day_buy
        decimals: 2
        unit: kWh
        name: Import
      - entity: sensor.daily_load_power_kwh
        decimals: 2
        unit: kWh
        name: Daily
    show:
      horseshoe_style: autominmax
    layout:
      hlines:
        - id: 0
          xpos: 50
          ypos: 40
          length: 70
          styles:
            - opacity: 0.2;
        - id: 0
          xpos: 50
          ypos: 60
          length: 70
          styles:
            - opacity: 0.2;
      vlines:
        - id: 0
          xpos: 50
          ypos: 50
          length: 18
          styles:
            - opacity: 0.2;
      states:
        - id: 0
          entity_index: 0
          xpos: 50
          ypos: 33
          styles:
            - font-size: 3em;
            - opacity: 0.9;
        - id: 1
          entity_index: 1
          xpos: 44
          ypos: 53
          styles:
            - font-size: 1.5em;
            - text-anchor: end;
        - id: 2
          entity_index: 2
          xpos: 55
          ypos: 53
          styles:
            - text-anchor: start;
            - font-size: 1.5em;
        - id: 3
          entity_index: 3
          xpos: 42
          ypos: 75
          styles:
            - text-anchor: start;
            - font-size: 2em;
        - id: 4
          entity_index: 4
          xpos: 75
          ypos: 7
          styles:
            - text-anchor: start;
            - font-size: 1.2em;
        - id: 5
          entity_index: 5
          xpos: 0
          ypos: 7
          styles:
            - text-anchor: start;
            - font-size: 1.2em;
      icons:
        - id: 0
          entity_index: 1
          xpos: 30
          ypos: 52
          align: start
          size: 1
      names:
        - id: 0
          entity_index: 0
          xpos: 50
          ypos: 95
          styles:
            - font-size: 1.2em;
        - id: 1
          entity_index: 4
          xpos: 85
          ypos: 12
          styles:
            - font-size: 0.5em;
            - text-anchor: start;
        - id: 2
          entity_index: 5
          xpos: 0
          ypos: 12
          styles:
            - font-size: 0.5em;
            - text-anchor: start;
        - id: 3
          entity_index: 3
          xpos: 44
          ypos: 80
          styles:
            - font-size: 0.5em;
            - text-anchor: start;
    horseshoe_scale:
      min: 0
      max: 8000
      width: 6
    color_stops:
      '0': '#5fb6ad'
      '2000': '#5fb6ad'
    card_mod:
      style: |
        ha-card {
          --ha-card-background: var(--card-background-color);
          color: var(--primary-color); 
        }
  - type: markdown
    content: >
      {% set stage_sensor = "sensor.load_shedding_stage_eskom" %} {% set
      area_sensor = "sensor.load_shedding_area_jhbcitypower2_10_northridingah"
      %} {% set area_schedule = state_attr(area_sensor, "forecast") %} {% if
      area_schedule %}
        {% set start_time = area_schedule[0].start_time %}
        {% set end_time = area_schedule[0].end_time %}
        {% if is_state(area_sensor, "off") %}
          {% set starts_in = timedelta(minutes=state_attr(area_sensor, "starts_in")).total_seconds() | int // 60 %}
          {% set mins = starts_in % 60 %}
          {% set hrs = starts_in // 60 % 24 %}
          {% set days = starts_in // 1440 %}
          {% set alert = "Load Shedding starts in {d}d {h}h {m}m ({next})".format(d=days, m=mins, h=hrs, next=as_timestamp(start_time) | timestamp_custom("%H:%M", True)) %}
          {% if starts_in > 1440 %}
            <ha-alert alert-type="success">{{ states(stage_sensor) }}</ha-alert>
          {% elif 60 < starts_in <= 1440 %}
            <ha-alert alert-type="warning">{{ alert }}</ha-alert>
          {% else %}
            <ha-alert alert-type="error">{{ alert }}</ha-alert>
          {% endif %}
        {% else %}
          {% set ends_in = timedelta(minutes=state_attr(area_sensor, "ends_in")).total_seconds() | int // 60 %}
            {% set mins = ends_in % 60 %}
            {% set hrs = ends_in // 60 % 24 %}
            {% set days = ends_in // 1440 %}
            {% set alert = "Load Shedding ends in {d}d {h}h {m}m ({next})".format(d=days, m=mins, h=hrs, next=as_timestamp(end_time) | timestamp_custom("%H:%M", True)) %}
            <ha-alert alert-type="error">{{ alert }}</ha-alert>
        {% endif %}
      {% else %}
        {% set stage = state_attr(stage_sensor, "next_stage") %}
        {% set start_time = state_attr(stage_sensor, "next_start_time") %}
        {% set end_time = state_attr(stage_sensor, "next_end_time") %}
        {% set starts_in = timedelta(minutes=state_attr(stage_sensor, "starts_in")).total_seconds() | int // 60 %}
        {% set mins = starts_in % 60 %}
        {% set hrs = starts_in // 60 % 24 %}
        {% set days = starts_in // 1440 %}
        {% if (start_time == 0 or end_time == 0) %}
        {% set alert = "No Load Shedding" %}
        {% else %}
        {% set alert = "Stage {stage} starts in {d}d {h}h {m}m ({next})".format(stage=stage, d=days, m=mins, h=hrs, next=as_timestamp(start_time) | timestamp_custom("%H:%M", True)) %}
        {% endif %}
        <ha-alert alert-type="success">{{ alert }}</ha-alert>
      {% endif %}{% set area_forecast = state_attr(area_sensor, "forecast" )%}
      {% if area_forecast %} <table width="100%"  border=0>
        <tbody>
        {% for forecast in area_forecast[:3] %}
        <tr>
          <td align="left">
          {{ as_timestamp(forecast.start_time) | timestamp_custom("%-d %B", True) }}
          </td>
          <td align="left">
          {{ as_timestamp(forecast.start_time) | timestamp_custom("%H:%M", True) }} - {{ as_timestamp(forecast.end_time) | timestamp_custom("%H:%M", True) }}
          </td>
          <td align="right">{{ forecast.stage }}</td>
        </tr>
        {% endfor %}
        </tbody>
      </table> {% endif %}
    view_layout:
      grid-area: ls
  - type: custom:plotly-graph
    view_layout:
      grid-area: sg
    entities:
      - entity: sensor.daily_pv_power_kwh
        statistic: state
        name: |
          $fn ({ ys,meta }) =>
            "Solar" + "🔆" + "(" +ys[ys.length - 1]+"kWh)"
        period: day
        type: bar
        texttemplate: '%{y}'
        filters:
          - filter: i>0
        marker:
          color: rgb(255, 155, 48)
      - entity: sensor.grid_import_day_buy
        statistic: state
        name: |
          $fn ({ ys,meta }) =>
            "Grid Import" + "💡" + "(" +ys[ys.length - 1]+"kWh)"
        period: day
        type: bar
        texttemplate: '%{y}'
        filters:
          - filter: i>0
        marker:
          color: rgb(84, 144, 194)
      - entity: sensor.daily_load_power_kwh
        statistic: state
        show_value: true
        name: |
          $fn ({ ys,meta }) =>
            "Load" + "⚡" + "(" +ys[ys.length - 1]+"kWh)"
        period: day
        type: line
        texttemplate: '%{y}'
        line:
          color: rgb(95, 182, 173)
          width: 2
    hours_to_show: 30d
    title: null
    refresh_interval: 600
    defaults:
      yaxes:
        fixedrange: true
    layout:
      legend:
        bgcolor: rgba(0,0,0,0)
        itemsizing: constant
        font:
          size: 11
        x: 0.4
      height: 410
      barmode: stack
      xaxis:
        rangeselector:
          'y': 1.05
          buttons:
            - count: 7
              step: day
            - count: 30
              step: day
            - count: 90
              step: day
    config:
      displayModeBar: false
      scrollZoom: false
  - type: custom:plotly-graph
    view_layout:
      grid-area: m
    entities:
      - entity: sensor.daily_pv_power_kwh
        statistic: sum
        name: |
          $fn ({ ys,meta }) =>
            "Solar" + "🔆"
        period: month
        type: bar
        texttemplate: '%{y}'
        filters:
          - delta
        marker:
          color: rgb(255, 155, 48)
      - entity: sensor.daily_load_power_kwh
        statistic: sum
        name: |
          $fn ({ ys,meta }) =>
            "Load" + "⚡"
        period: month
        type: bar
        filters:
          - delta
        texttemplate: '%{y}'
        marker:
          color: rgb(95, 182, 173)
      - entity: sensor.grid_import_day_buy
        statistic: sum
        name: |
          $fn ({ ys,meta }) =>
            "Grid Import" + "💡"
        period: month
        type: bar
        texttemplate: '%{y}'
        filters:
          - delta
        marker:
          color: rgb(84, 144, 194)
      - entity: sensor.battery_discharge_day
        statistic: sum
        name: |
          $fn ({ ys,meta }) =>
            "Battery Discharge" + "🖱️"
        period: month
        type: bar
        texttemplate: '%{y}'
        filters:
          - delta
          - filter: i>0
        marker:
          color: rgb(151, 90, 182)
      - entity: sensor.battery_charge_day
        statistic: sum
        name: |
          $fn ({ ys,meta }) =>
            "Battery Charge" + "🔋"
        period: month
        type: bar
        texttemplate: '%{y}'
        filters:
          - delta
        marker:
          color: yellow
    hours_to_show: 6M
    title: Monthly Production
    refresh_interval: 600
    defaults:
      yaxes:
        fixedrange: true
    layout:
      legend:
        bgcolor: rgba(0,0,0,0)
        itemsizing: constant
        font:
          size: 11
      height: 410
    config:
      displayModeBar: false
      scrollZoom: false
    time_offset: 1M
layout:
  grid-template-columns: 10% 10% 10% 10% 10% 10% 10% 10% 10% 10%
  grid-template-rows: auto
  grid-template-areas: |
    "g1 g1 g2 g2 g3 g3 ls ls weather weather"
    "flow flow flow graph graph graph graph graph stats1 stats1 "
    "total total total total daily daily daily daily stats stats "
    "sg sg sg sg sg sg sg sg sg sg"
    "m m m m m m m m m m"
    "bat bat bat bat bat geyser geyser geyser geyser geyser "
    "energy energy usage usage usage usage  solar solar  solar solar "
  justify-items: stretch
  mediaquery:
    '(max-width: 800px)':
      grid-template-columns: 100%
      grid-template-areas: |
        "ls"
        "g1"
        "g2"
        "g3"
        "flow"
        "graph"
        "daily"
        "total"
        "stats1"
        "sg"
        "m"
        "bat"
        "geyser"
        "stats"
        "energy"
        "usage"
        "solar"
        "weather"
    '(max-width: 1300px)':
      grid-template-columns: 33% 33% 33%
      grid-template-areas: |
        "g1 g2 g3"
        "flow graph graph"
        "stats1 daily daily"
        "stats total total"
        "sg sg sg"
        "m m m"
        "ls bat bat"
        "weather geyser geyser"
        "energy usage usage"
        "solar solar solar"
